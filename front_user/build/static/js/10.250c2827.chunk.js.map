{"version":3,"sources":["layouts/Main/style.tsx","components/Menu/style.tsx","components/Menu/Menu.tsx","layouts/Main/Main.tsx","utils/fetcher.ts"],"names":["ProfileModal","styled","div","header","LogOutButton","button","CreateMenu","CloseModalButton","Menu","children","style","onCloseModal","show","closeButton","stopPropagation","useCallback","e","onClick","defaultProps","Calendar","loadable","Home","Teachers","MyClass","Main","useState","showUserMenu","setShowUserMenu","useSWR","fetcher","dedupingInterval","data","mutate","error","revalidate","onLogout","axios","post","withCredentials","then","response","onClickUserProfile","prev","Navbar","sticky","bg","expand","Brand","className","to","color","fontSize","fontFamily","fontWeight","Toggle","aria-controls","Collapse","id","Nav","activeClassName","exact","paddingLeft","width","border","backgroundColor","username","right","top","path","component","url","get"],"mappings":"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","file":"static/js/10.250c2827.chunk.js","sourcesContent":["import styled from '@emotion/styled';\n\nexport const RightMenu = styled.div`\n  float: right;\n`;\nexport const LeftMenu = styled.div`\n  float: left;\n  cursor: pointer;\n  font-size: 24px;\n  padding-right: 30px;\n`;\nexport const Header = styled.header`\n  height: 28px;\n  background: #14a0a0;\n  color: #ffffff;\n  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1);\n  padding: 5px;\n  text-align: center;\n`;\n\nexport const ProfileModal = styled.div`\n  display: flex;\n  padding: 20px;\n\n  & img {\n    display: flex;\n  }\n\n  & > div {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n  }\n\n  & #profile-name {\n    font-weight: bold;\n    display: inline-flex;\n  }\n\n  & #profile-active {\n    font-size: 13px;\n    display: inline-flex;\n  }\n`;\n\nexport const LogOutButton = styled.button`\n  border: none;\n  width: 100%;\n  border-top: 1px solid rgb(29, 28, 29);\n  background: transparent;\n  display: block;\n  height: 33px;\n  padding: 5px 20px 5px;\n  outline: none;\n  cursor: pointer;\n`;\n","import styled from '@emotion/styled';\n\nexport const CreateMenu = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n\n  & > div {\n    position: absolute;\n    display: inline-block;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    min-width: 360px;\n    z-index: 512;\n    max-height: calc(100vh - 20px);\n    color: rgb(29, 28, 29);\n  }\n`;\n\nexport const CloseModalButton = styled.button`\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n`;\n","import React, { CSSProperties, FC, useCallback } from 'react';\nimport { CloseModalButton, CreateMenu } from './style';\n\ninterface Props {\n  show: boolean;\n  onCloseModal: (e: any) => void;\n  style: CSSProperties;\n  closeButton?: boolean;\n}\nconst Menu: FC<Props> = ({ children, style, show, onCloseModal, closeButton }) => {\n  const stopPropagation = useCallback((e) => {\n    e.stopPropagation();\n  }, []);\n\n  return (\n    <CreateMenu onClick={onCloseModal}>\n      <div onClick={stopPropagation} style={style}>\n        {closeButton && <CloseModalButton onClick={onCloseModal}>&times;</CloseModalButton>}\n        {children}\n      </div>\n    </CreateMenu>\n  );\n};\nMenu.defaultProps = {\n  closeButton: true,\n};\nexport default Menu;\n","import React, { FC, useCallback, useState } from 'react';\nimport useSWR from 'swr';\nimport fetcher from '../../utils/fetcher';\nimport axios from 'axios';\nimport { Redirect, Link, NavLink, Route, Router, Switch } from 'react-router-dom';\nimport { ProfileModal, LogOutButton } from './style';\nimport Menu from '../../components/Menu/Menu';\nimport { Button, Nav, Navbar } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.css';\nimport loadable from '@loadable/component';\n\nconst Calendar = loadable(() => import('../../components/Calendar/Calendar'));\nconst Home = loadable(() => import('../../components/Home'));\nconst Teachers = loadable(() => import('../../components/Teachers/Teachers'));\nconst MyClass = loadable(() => import('../../components/BookedClasses/MyClass'));\nconst Main: FC = ({ children }) => {\n  const [showUserMenu, setShowUserMenu] = useState(false);\n\n  const { data, error, revalidate, mutate } = useSWR(\n    'http://ec2-3-38-35-210.ap-northeast-2.compute.amazonaws.com:8080/api/v1/user/me',\n    fetcher,\n    {\n      dedupingInterval: 2000,\n    },\n  ); //내가 원할 때 요청하기!!\n  const onLogout = useCallback(() => {\n    axios\n      .post('http://ec2-3-38-35-210.ap-northeast-2.compute.amazonaws.com:8080/api/v1/logout', null, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        mutate(false);\n      });\n  }, []);\n\n  const onClickUserProfile = useCallback((e) => {\n    e.stopPropagation();\n    setShowUserMenu((prev) => !prev);\n  }, []);\n\n  if (!data) {\n    return <Redirect to=\"/login\" />;\n  }\n  return (\n    <div>\n      <Navbar sticky=\"top\" bg=\"light\" expand=\"lg\">\n        <Navbar.Brand>\n          <NavLink\n            className=\"main-nav\"\n            to=\"/home\"\n            style={{\n              color: '#05495e',\n              fontSize: '110%',\n              fontFamily: 'lobster',\n              fontWeight: 'bolder',\n            }}\n          >\n            Pilas\n          </NavLink>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"m-auto\">\n            <NavLink className=\"main-nav\" activeClassName=\"main-nav-active\" exact to=\"/home/booking\">\n              Booking\n            </NavLink>{' '}\n            <NavLink className=\"main-nav\" activeClassName=\"main-nav-active\" exact to=\"/home/myclass\">\n              My Class\n            </NavLink>{' '}\n            <NavLink className=\"main-nav\" activeClassName=\"main-nav-active\" exact to=\"/home/teachers\">\n              Instructors\n            </NavLink>\n          </Nav>\n          <Nav>\n            <button\n              style={{ paddingLeft: '0px', width: '50px', border: 'none', backgroundColor: 'transparent' }}\n              onClick={onClickUserProfile}\n            >\n              {data.username}\n              {showUserMenu && (\n                <Menu style={{ right: 0, top: 38 }} show={showUserMenu} onCloseModal={onClickUserProfile}>\n                  <ProfileModal>\n                    <div>\n                      <span id=\"profile-name\">{data.username}</span>\n                      <span id=\"profile-active\">Active</span>\n                    </div>\n                  </ProfileModal>\n                  <LogOutButton onClick={onLogout}>Logout</LogOutButton>\n                </Menu>\n              )}\n            </button>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Switch>\n        <Route exact path=\"/home\" component={Home} />\n        <Route exact path=\"/home/booking\" component={Calendar} />\n        <Route exact path=\"/home/myclass\" component={MyClass} />\n        <Route exact path=\"/home/teachers\" component={Teachers} />\n      </Switch>\n    </div>\n  );\n};\nexport default Main;\n","import axios from 'axios';\n\nconst fetcher = (url: string) => axios.get(url, { withCredentials: true }).then((response) => response.data.data);\n\nexport default fetcher;\n"],"sourceRoot":""}